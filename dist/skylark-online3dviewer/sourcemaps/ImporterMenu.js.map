{"version":3,"sources":["ImporterMenu.js"],"names":["define","$","ImporterProgressBar","ImporterButtons","IsSet","val","undefined","ImporterMenuItem","parentDiv","name","parameters","this","menuItemDiv","isOpen","openCloseImage","contentDiv","Initialize","prototype","i","userButton","addClass","appendTo","id","attr","openCloseButton","AddOpenCloseButton","userButtons","length","AddUserButton","menuItemTextDiv","html","css","AddSubItem","GetContentDiv","myThis","hide","title","click","SetOpen","userImage","onCreate","userData","onClick","onCtrlClick","event","stopPropagation","ctrlKey","onOpen","show","onClose","Highlight","highlight","removeClass","IsHighlighted","hasClass","ImporterMenu","empty","AddGroup"],"mappings":"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","file":"../ImporterMenu.js","sourcesContent":["define([\r\n\t\"skylark-jquery\",\r\n\t\"./ImporterProgressBar\",\r\n\t\"./ImporterButtons\"\t\r\n],function($,ImporterProgressBar,ImporterButtons){\r\n\tfunction IsSet (val)\r\n\t{\r\n\t\treturn val !== undefined && val !== null;\r\n\t}\r\n\r\n\tvar ImporterMenuItem = function (parentDiv, name, parameters)\r\n\t{\r\n\t\tthis.parentDiv = parentDiv;\r\n\t\tthis.parameters = parameters;\r\n\r\n\t\tthis.menuItemDiv = null;\r\n\t\tthis.isOpen = null;\r\n\t\tthis.openCloseImage = null;\r\n\t\tthis.contentDiv = null;\r\n\r\n\t\tthis.Initialize (name);\r\n\t};\r\n\r\n\tImporterMenuItem.prototype.Initialize = function (name)\r\n\t{\r\n\t\tthis.menuItemDiv = $('<div>').addClass ('menuitem').appendTo (this.parentDiv);\r\n\t\tif (IsSet (this.parameters)) {\r\n\t\t\tif (IsSet (this.parameters.id)) {\r\n\t\t\t\tthis.menuItemDiv.attr ('id', this.parameters.id);\r\n\t\t\t}\r\n\t\t\tif (IsSet (this.parameters.openCloseButton)) {\r\n\t\t\t\tthis.AddOpenCloseButton ();\r\n\t\t\t}\r\n\t\t\tif (IsSet (this.parameters.userButtons)) {\r\n\t\t\t\tvar i, userButton;\r\n\t\t\t\tfor (i = 0; i < this.parameters.userButtons.length; i++) {\r\n\t\t\t\t\tuserButton = this.parameters.userButtons[i];\r\n\t\t\t\t\tthis.AddUserButton (userButton);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar menuItemTextDiv = $('<div>').addClass ('menuitem').html (name).attr ('title', name).appendTo (this.menuItemDiv);\r\n\t\tif (IsSet (this.parameters) && IsSet (this.parameters.openCloseButton)) {\r\n\t\t\tmenuItemTextDiv.css ('cursor', 'pointer');\r\n\t\t}\r\n\t};\r\n\r\n\tImporterMenuItem.prototype.AddSubItem = function (name, parameters)\r\n\t{\r\n\t\treturn new ImporterMenuItem (this.contentDiv, name, parameters);\r\n\t};\r\n\r\n\tImporterMenuItem.prototype.GetContentDiv = function ()\r\n\t{\r\n\t\treturn this.contentDiv;\r\n\t};\r\n\r\n\tImporterMenuItem.prototype.AddOpenCloseButton = function ()\r\n\t{\r\n\t\tvar myThis = this;\r\n\t\tthis.isOpen = false;\r\n\t\tthis.contentDiv = $('<div>').addClass ('menuitemcontent').hide ().appendTo (this.parentDiv);\r\n\t\tthis.openCloseImage = $('<img>').addClass ('menubutton').attr ('title', this.parameters.openCloseButton.title).appendTo (this.menuItemDiv);\r\n\t\tthis.openCloseImage.attr ('src', 'images/closed.png');\r\n\t\tthis.menuItemDiv.click (function () {\r\n\t\t\tmyThis.SetOpen (!myThis.isOpen);\r\n\t\t});\r\n\t};\r\n\r\n\tImporterMenuItem.prototype.AddUserButton = function (userButton)\r\n\t{\r\n\t\tvar userImage = $('<img>').addClass ('menubutton').attr ('title', userButton.title).appendTo (this.menuItemDiv);\r\n\t\tif (IsSet (userButton.id)) {\r\n\t\t\tuserImage.attr ('id', userButton.id);\r\n\t\t}\r\n\t\tif (IsSet (userButton.onCreate)) {\r\n\t\t\tuserButton.onCreate (userImage, userButton.userData);\r\n\t\t}\r\n\t\tif (IsSet (userButton.onClick) || IsSet (userButton.onCtrlClick)) {\r\n\t\t\tuserImage.click (function (event) {\r\n\t\t\t\tevent.stopPropagation ();\r\n\t\t\t\tif (event.ctrlKey && IsSet (userButton.onCtrlClick)) {\r\n\t\t\t\t\tuserButton.onCtrlClick (userImage, userButton.userData);\r\n\t\t\t\t} else if (IsSet (userButton.onClick)) {\r\n\t\t\t\t\tuserButton.onClick (userImage, userButton.userData);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tImporterMenuItem.prototype.SetOpen = function (isOpen)\r\n\t{\r\n\t\tthis.isOpen = isOpen;\r\n\t\tif (this.isOpen) {\r\n\t\t\tif (IsSet (this.parameters.openCloseButton.onOpen)) {\r\n\t\t\t\tthis.parameters.openCloseButton.onOpen (this.contentDiv, this.parameters.openCloseButton.userData);\r\n\t\t\t}\r\n\t\t\tthis.contentDiv.show ();\r\n\t\t\tthis.openCloseImage.attr ('src', 'images/opened.png');\r\n\t\t} else {\r\n\t\t\tif (IsSet (this.parameters.openCloseButton.onClose)) {\r\n\t\t\t\tthis.parameters.openCloseButton.onClose (this.contentDiv, this.parameters.openCloseButton.userData);\r\n\t\t\t}\r\n\t\t\tthis.contentDiv.hide ();\r\n\t\t\tthis.openCloseImage.attr ('src', 'images/closed.png');\r\n\t\t}\r\n\t};\r\n\r\n\tImporterMenuItem.prototype.Highlight = function (highlight)\r\n\t{\r\n\t\tif (highlight) {\r\n\t\t\tthis.menuItemDiv.addClass ('highlighted');\r\n\t\t} else {\r\n\t\t\tthis.menuItemDiv.removeClass ('highlighted');\r\n\t\t}\r\n\t};\r\n\r\n\tImporterMenuItem.prototype.IsHighlighted = function ()\r\n\t{\r\n\t\treturn this.menuItemDiv.hasClass ('highlighted');\r\n\t};\r\n\r\n\tvar ImporterMenu = function (parentDiv)\r\n\t{\r\n\t\tthis.parentDiv = parentDiv;\r\n\t\tthis.parentDiv.empty ();\r\n\t};\r\n\r\n\tImporterMenu.prototype.AddGroup = function (name, parameters)\r\n\t{\r\n\t\treturn new ImporterMenuItem (this.parentDiv, name, parameters);\r\n\t};\r\n\r\n\r\n\treturn ImporterMenu;\r\n});\r\n"]}