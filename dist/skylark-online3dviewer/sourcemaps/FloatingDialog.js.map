{"version":3,"sources":["FloatingDialog.js"],"names":["define","$","FloatingDialog","this","dialogDiv","contentDiv","prototype","Open","parameters","AddButton","dialog","parent","button","addClass","html","text","appendTo","click","callback","Close","title","undefined","i","buttonsDiv","buttons","length","document","addEventListener","MouseClick","bind","Resize","remove","unbind","GetContentDiv","css","body","clientWidth","width","clientHeight","height","clickEvent","dialogClicked","target","get","parentElement"],"mappings":";;;;;;;AAAAA,QACC,kBACC,SAASC,GACV,IAAIC,EAAiB,WAEpBC,KAAKC,UAAY,KACjBD,KAAKE,WAAa,MAiFnB,OA9EAH,EAAeI,UAAUC,KAAO,SAAUC,GAEzC,SAASC,EAAWC,EAAQC,EAAQC,GAEnBX,EAAE,SAASY,SAAU,gBAAgBC,KAAMF,EAAOG,MAAMC,SAAUL,GACxEM,MAAO,WAChBL,EAAOM,SAAUR,KAII,OAAnBP,KAAKC,WACRD,KAAKgB,QAGNhB,KAAKC,UAAYH,EAAE,SAASY,SAAU,UAAUG,SAAUf,EAAE,SAC5DA,EAAE,SAASY,SAAU,eAAeC,KAAMN,EAAWY,OAAOJ,SAAUb,KAAKC,WAC3ED,KAAKE,WAAaJ,EAAE,SAASY,SAAU,iBAAiBG,SAAUb,KAAKC,WAC/C,OAApBI,EAAWO,WAAqCM,IAApBb,EAAWO,MAC1CZ,KAAKE,WAAWS,KAAMN,EAAWO,MAElC,IAEIO,EAFAC,EAAatB,EAAE,SAASY,SAAU,iBAAiBG,SAAUb,KAAKC,WAGtE,IAAKkB,EAAI,EAAGA,EAAId,EAAWgB,QAAQC,OAAQH,IAE1Cb,EAAWN,KAAMoB,EADRf,EAAWgB,QAAQF,IAI7BI,SAASC,iBAAkB,QAASxB,KAAKyB,WAAWC,KAAM1B,OAAO,GACjEA,KAAK2B,UAGN5B,EAAeI,UAAUa,MAAQ,WAET,OAAnBhB,KAAKC,YAITD,KAAKC,UAAU2B,SACf5B,KAAKC,UAAY,KACjBH,EAAE,QAAQ+B,OAAQ,WAGnB9B,EAAeI,UAAU2B,cAAgB,WAExC,OAAO9B,KAAKE,YAGbH,EAAeI,UAAUwB,OAAS,WAEV,OAAnB3B,KAAKC,YAITD,KAAKC,UAAU8B,IAAK,QAAUR,SAASS,KAAKC,YAAcjC,KAAKC,UAAUiC,SAAY,EAAO,MAC5FlC,KAAKC,UAAU8B,IAAK,OAASR,SAASS,KAAKG,aAAenC,KAAKC,UAAUmC,UAAa,EAAO,QAG9FrC,EAAeI,UAAUsB,WAAa,SAAUY,GAE/C,GAAuB,OAAnBrC,KAAKC,UAAT,CAMA,IAFA,IAAIqC,GAAgB,EAChBC,EAASF,EAAWE,OACN,OAAXA,GACFA,IAAWvC,KAAKC,UAAUuC,MAAO,KACpCF,GAAgB,GAEjBC,EAASA,EAAOE,cAGZH,GACJtC,KAAKgB,UAIAjB","file":"../FloatingDialog.js","sourcesContent":["define([\r\n\t\"skylark-jquery\"\r\n],function($){\r\n\tvar FloatingDialog = function ()\r\n\t{\r\n\t\tthis.dialogDiv = null;\r\n\t\tthis.contentDiv = null;\r\n\t};\r\n\r\n\tFloatingDialog.prototype.Open = function (parameters)\r\n\t{\r\n\t\tfunction AddButton (dialog, parent, button)\r\n\t\t{\r\n\t\t\tvar buttonDiv = $('<div>').addClass ('dialogbutton').html (button.text).appendTo (parent);\r\n\t\t\tbuttonDiv.click (function () {\r\n\t\t\t\tbutton.callback (dialog);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.dialogDiv !== null) {\r\n\t\t\tthis.Close ();\r\n\t\t}\r\n\r\n\t\tthis.dialogDiv = $('<div>').addClass ('dialog').appendTo ($('body'));\r\n\t\t$('<div>').addClass ('dialogtitle').html (parameters.title).appendTo (this.dialogDiv);\r\n\t\tthis.contentDiv = $('<div>').addClass ('dialogcontent').appendTo (this.dialogDiv);\r\n\t\tif (parameters.text !== null && parameters.text !== undefined) {\r\n\t\t\tthis.contentDiv.html (parameters.text);\r\n\t\t}\r\n\t\tvar buttonsDiv = $('<div>').addClass ('dialogbuttons').appendTo (this.dialogDiv);\r\n\r\n\t\tvar i, button;\r\n\t\tfor (i = 0; i < parameters.buttons.length; i++) {\r\n\t\t\tbutton = parameters.buttons[i];\r\n\t\t\tAddButton (this, buttonsDiv, button);\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener ('click', this.MouseClick.bind (this), true);\r\n\t\tthis.Resize ();\r\n\t};\r\n\r\n\tFloatingDialog.prototype.Close = function ()\r\n\t{\r\n\t\tif (this.dialogDiv === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis.dialogDiv.remove ();\r\n\t\tthis.dialogDiv = null;\r\n\t\t$('body').unbind ('click');\r\n\t};\r\n\r\n\tFloatingDialog.prototype.GetContentDiv = function ()\r\n\t{\r\n\t\treturn this.contentDiv;\r\n\t};\r\n\r\n\tFloatingDialog.prototype.Resize = function ()\r\n\t{\r\n\t\tif (this.dialogDiv === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis.dialogDiv.css ('left', ((document.body.clientWidth - this.dialogDiv.width ()) / 2.0) + 'px');\r\n\t\tthis.dialogDiv.css ('top', ((document.body.clientHeight - this.dialogDiv.height ()) / 3.0) + 'px');\r\n\t};\r\n\r\n\tFloatingDialog.prototype.MouseClick = function (clickEvent)\r\n\t{\r\n\t\tif (this.dialogDiv === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar dialogClicked = false;\r\n\t\tvar target = clickEvent.target;\r\n\t\twhile (target !== null) {\r\n\t\t\tif (target === this.dialogDiv.get ()[0]) {\r\n\t\t\t\tdialogClicked = true;\r\n\t\t\t}\r\n\t\t\ttarget = target.parentElement;\r\n\t\t}\r\n\t\t\r\n\t\tif (!dialogClicked) {\r\n\t\t\tthis.Close ();\r\n\t\t}\r\n\t};\r\n\r\n\treturn FloatingDialog;\r\n});"]}